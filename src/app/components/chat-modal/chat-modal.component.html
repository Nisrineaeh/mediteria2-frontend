<div class="d-flex justify-content-between">
<h1 class="modal-title" id="modal-basic-title">Chat avec {{selectedUser.username}}</h1>
<button type="button" class="close" aria-label="Close" (click)="closeModal()">
  <span aria-hidden="true">&times;</span>
</button>
</div>
<div class="chat-container">
  <div class="message-list">
    <div class="message" *ngFor="let message of messages">
      <div class="send" id="messages">
        <div *ngIf="message?.sender?.id === currentUser.id" class="my-message">
          <div class="name">{{senderUsername }}</div>
          <div>
            {{ message.content }}
             <p class="time">{{ message.date | date : "HH:mm dd/MM/yyyy" }}</p>
          </div>
        </div>
      </div>
      <div class="receive">
        <div
          *ngIf="message?.sender?.id!== currentUser.id"
          class="other-message">
          <div class="name">{{ message.username || message.sender.username}}</div>
          <div>
            {{ message.content }}
           <p class="time">{{message.date | date : "HH:mm dd/MM/yyyy "}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <form
    [formGroup]="messageForm"
    (ngSubmit)="sendMessage()">
    <input
      type="text"
      formControlName="newMessage"
      placeholder="Tape ton message..."
      id="message"/>
    <button type="submit" >Envoyer</button>
  </form>
</div>
